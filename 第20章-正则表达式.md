# 正则表达式

作用：用来高效便捷的处理字符串

## 1、优势

```js
let a = "456阿飞789朱雀12"; //需要得到["456","789","12"]

console.log(fn(a));

//正则方式
function fn(str){
	return str.match(/\d+/g);
}

/*
//普通方式
function fn(str){
	let len = str.length;
	let s = "";
	let arr = [];
	for(let i=0;i<len;i++){
		let n = str.charAt(i);
		if( !isNaN(n) ){
			s += n;
		}else{
			s && arr.push(s);
			s = "";
		}
	}
	s && arr.push(s);
	return arr;
}*/
```

## 2、创建正则

#### 1 - 字面量定义

- 将规则写在双斜杠中 / /    ( 常用 )

```js
let reg = /abc/
```

 注意：使用字面量方法定义的规则不能使用变量

#### 2 - new RegExp()

- 将规则做为参数传入，可以传入变量（不常用）

```js
let x = 'abc'

let reg = new RegExp(x)     //   /abc/
```

## 3、正则方法

#### 支持正则的字符串方法


- `str.match(reg)`，返回包含匹配结果的数组，和exec类似。

- `str.replace(reg,str|function)`，将匹配的内容用第二个参数的str或者函数返回值替换，返回替换得到的新字符串。

- `str.split(reg)`，按照正则规则切割。

- `str.search(reg)`，类似indexOf方法。

#### 正则自身的方法

- `reg.test(str)`，检测字符串str中是否包含reg规则，返回布尔值。

- `reg.exec(str)`，返回包含匹配结果的数组，没有则返回null。如果正则有 `g` 标志，那么继续调用`reg.exec(str)`时，紧接着上次的匹配位置往下匹配。

  ```js
  let str = 'abc12qwe45'
  
  console.info( /\d{2}/.exec(str) )     // 12
  ```

  

## 4、标志

可以在正则表达式后加上标志，标志分为三种：`i`（不区分大小写），`g`（全局匹配），`m`（换行匹配）。其中`i g`较为常用。

- `let reg = /tom/i`，既可以匹配字段"tom"，又可以匹配字段"TOM"。

## 5、转义

`\s \S` 空格 非空格

`\d \D` 数字 非数字

`\w \W` 字符（数字、字母、下划线） 非字符

`\b \B` 独立部分（**起始位置、结束位置、以及除了\w外的**） 非独立部分

```js
let str = 'Tom is a beautiful girl'
/\bTo\b/.test( str )    // false
/\bTom\b/.test( str )    // true
```

- 特殊符号转义

比如要匹配 / 这个字符，不能直接写，需要转义，正则里面需要转义的特殊符号有：`()[]{}\/^$|?*+.`。

## 6、量词

 重复书写某个规则时可以用量词代替，比如需要重复匹配10个数字，可以由`/\d\d\d\d\d\d\d\d\d\d/`改为`/\d{10}/`的写法。 

- 量词普通写法

  {n} n个

  {n,m} n~m个，包含n也包含m

  {n,} n~无穷大个，包含n

- 量词特殊写法

  `{1,}` 可由 `+` 代替

  `{0,}` 可由 `*` 代替

  `{0,1}` 可由 `?` 代替

- 贪婪与惰性

  量词默认贪婪匹配，就是说尽量往指定范围类最大的匹配，在量词后面加上 `?` 符号，变为惰性匹配，也就是尽量少的去匹配。